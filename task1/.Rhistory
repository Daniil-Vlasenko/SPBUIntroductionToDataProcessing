df <- mutate(df, incomePerFamilyMember = income / (dependents + 1))
# Define criterion of income level, and split data according to levels of this criterion.
incomeLevel <- function(x){
if (x < 2.5) "low"
else if (x <= 8) "average"
else "high"
}
df$incomeLevel <- sapply(df$income, FUN =  incomeLevel)
# 2.
# Print some information about dataset.
file.create("output.txt", showWarnings = TRUE)
output <-file("output.txt")
write("Average amount of dependents for people don't own their home:", file="output.txt")
write(mean(filter(df, owner == "no")$dependents), file="output.txt", append=TRUE)
write("Average age in each income groups:", file="output.txt", append=TRUE)
write.table(df %>% group_by(incomeLevel) %>% summarise(averageAge = mean(age)),
file = "output.txt", sep = ";", append=TRUE, row.names=FALSE, col.names=FALSE)
write("Top 5 youngest people, whose application was declined: ",
file = "output.txt", append=TRUE)
dftmp <- filter(df, card == "no")
order <- order(dftmp$age)
write.table(dftmp[order[1:5],],
file = "output.txt", sep = ";", append=TRUE)
write("Top 5 eldest people, whose application was declined: ",
file = "output.txt", append=TRUE)
write.table(dftmp[tail(order, 5),], file = "output.txt", sep = ";", append=TRUE)
if (!require("lubridate")) install.packages("lubridate")
if (!require("tidyr")) install.packages("dplyr")
library("lubridate")
library("dplyr")
# 1.
# Create a dateframe of self-employed.
df <- read.table("study_fall2021_intror_creditcard.txt", header=TRUE, sep=";")
df <- filter(df, selfemp == "yes")
# Convert amount of months applicant living at his/her current address to days.
today <- as.Date("2000-01-01")
df$months <- as.numeric(today - (today %m-% months(df$months)))
names(df)[names(df) == "months"] <- "days"
# Add column with income per family member.
# Due to the lack of information about a person's family,
# we assume that dependents are family members without the applicant.
df <- mutate(df, incomePerFamilyMember = income / (dependents + 1))
# Define criterion of income level, and split data according to levels of this criterion.
incomeLevel <- function(x){
if (x < 2.5) "low"
else if (x <= 8) "average"
else "high"
}
df$incomeLevel <- sapply(df$income, FUN =  incomeLevel)
# 2.
# Print some information about dataset.
file.create("output.txt", showWarnings = TRUE)
output <-file("output.txt")
write("Average amount of dependents for people don't own their home:", file="output.txt")
write(mean(filter(df, owner == "no")$dependents), file="output.txt", append=TRUE)
write("Average age in each income groups:", file="output.txt", append=TRUE)
write.table(df %>% group_by(incomeLevel) %>% summarise(averageAge = mean(age)),
file = "output.txt", sep = ";", append=TRUE, row.names=FALSE, col.names=FALSE)
write("Top 5 youngest people, whose application was declined: ",
file = "output.txt", append=TRUE)
dftmp <- filter(df, card == "no")
order <- order(dftmp$age)
write.table(dftmp[order[1:5],],
file = "output.txt", sep = ";", append=TRUE)
write("Top 5 eldest people, whose application was declined: ",
file = "output.txt", append=TRUE)
write.table(dftmp[tail(order, 5),], file = "output.txt", sep = ";", append=TRUE)
write("Average number of major CCs held for people with top 10 income: ",
file = "output.txt", append=TRUE)
write(sort(df$income) %>% tail(10) %>% mean(),
file = "output.txt", append=TRUE)
close(output)
write("Top 5 youngest people, whose application was declined: ",
file = "output.txt", append=TRUE)
dftmp <- filter(df, card == "no")
dftmp <- dftmp[order(dftmp$age),]
write.table(dftmp[1:5,],
file = "output.txt", sep = ";", append=TRUE)
if (!require("lubridate")) install.packages("lubridate")
if (!require("tidyr")) install.packages("dplyr")
library("lubridate")
library("dplyr")
# 1.
# Create a dateframe of self-employed.
df <- read.table("study_fall2021_intror_creditcard.txt", header=TRUE, sep=";")
df <- filter(df, selfemp == "yes")
# Convert amount of months applicant living at his/her current address to days.
today <- as.Date("2000-01-01")
df$months <- as.numeric(today - (today %m-% months(df$months)))
names(df)[names(df) == "months"] <- "days"
# Add column with income per family member.
# Due to the lack of information about a person's family,
# we assume that dependents are family members without the applicant.
df <- mutate(df, incomePerFamilyMember = income / (dependents + 1))
# Define criterion of income level, and split data according to levels of this criterion.
incomeLevel <- function(x){
if (x < 2.5) "low"
else if (x <= 8) "average"
else "high"
}
df$incomeLevel <- sapply(df$income, FUN =  incomeLevel)
# 2.
# Print some information about dataset.
file.create("output.txt", showWarnings = TRUE)
output <-file("output.txt")
write("Average amount of dependents for people don't own their home:", file="output.txt")
write(mean(filter(df, owner == "no")$dependents), file="output.txt", append=TRUE)
write("Average age in each income groups:", file="output.txt", append=TRUE)
write.table(df %>% group_by(incomeLevel) %>% summarise(averageAge = mean(age)),
file = "output.txt", sep = ";", append=TRUE, row.names=FALSE, col.names=FALSE)
write("Top 5 youngest people, whose application was declined: ",
file = "output.txt", append=TRUE)
dftmp <- filter(df, card == "no")
dftmp <- dftmp[order(dftmp$age),]
write.table(dftmp[1:5,],
file = "output.txt", sep = ";", append=TRUE)
write("Top 5 eldest people, whose application was declined: ",
file = "output.txt", append=TRUE)
write.table(tail(dftmp, 5), file = "output.txt", sep = ";", append=TRUE)
write
write
if (!require("lubridate")) install.packages("lubridate")
if (!require("tidyr")) install.packages("dplyr")
library("lubridate")
library("dplyr")
# 1.
# Create a dateframe of self-employed.
df <- read.table("study_fall2021_intror_creditcard.txt", header=TRUE, sep=";")
df <- filter(df, selfemp == "yes")
# Convert amount of months applicant living at his/her current address to days.
today <- as.Date("2000-01-01")
df$months <- as.numeric(today - (today %m-% months(df$months)))
names(df)[names(df) == "months"] <- "days"
# Add column with income per family member.
# Due to the lack of information about a person's family,
# we assume that dependents are family members without the applicant.
df <- mutate(df, incomePerFamilyMember = income / (dependents + 1))
# Define criterion of income level, and split data according to levels of this criterion.
incomeLevel <- function(x){
if (x < 2.5) "low"
else if (x <= 8) "average"
else "high"
}
df$incomeLevel <- sapply(df$income, FUN =  incomeLevel)
# 2.
# Print some information about dataset.
file.create("output.txt", showWarnings = TRUE)
output <-file("output.txt")
write("Average amount of dependents for people don't own their home:", file="output.txt")
write(mean(filter(df, owner == "no")$dependents), file="output.txt", append=TRUE)
write("Average age in each income groups:", file="output.txt", append=TRUE)
write.table(df %>% group_by(incomeLevel) %>% summarise(averageAge = mean(age)),
file = "output.txt", sep = ";", append=TRUE, row.names=FALSE, col.names=FALSE)
write("Top 5 youngest people, whose application was declined: ",
file = "output.txt", append=TRUE)
dftmp <- filter(df, card == "no")
dftmp <- dftmp[order(dftmp$age),]
write.table(dftmp[1:5,], file = "output.txt", sep = ";", append=TRUE)
write("Top 5 eldest people, whose application was declined: ", file = "output.txt", append=TRUE)
write.table(tail(dftmp, 5), file = "output.txt", sep = ";", append=TRUE)
write("Average number of major CCs held for people with top 10 income: ",
file = "output.txt", append=TRUE)
write(sort(df$income) %>% tail(10) %>% mean(),
file = "output.txt", append=TRUE)
close(output)
if (!require("lubridate")) install.packages("lubridate")
library("lubridate")
library("dplyr")
# 1.
# Create a dateframe of self-employed.
df <- read.table("study_fall2021_intror_creditcard.txt", header=TRUE, sep=";")
df <- filter(df, selfemp == "yes")
# Convert amount of months applicant living at his/her current address to days.
today <- as.Date("2000-01-01")
df <- mutate(df, days = as.numeric(today - (today %m-% months(df$months))))
df
x = [1, 3, 3, 9]
x <- [1, 3, 3, 9]
x <- (1, 3, 3, 9)
x <- c(1, 3, 3, 9)
x[x>2 ]
class(x)
x[x>2] = 5
x
l[x>2] = 3
df
df[df$income < 2]
df[df$income < 2, ]
df[df$income < 2, ]$income
df[df$income < 2, ]$incomeLevel <- 3
df[df$income < 2, ]
library("lubridate")
library("dplyr")
# 1.
# Create a dateframe of self-employed.
df <- read.table("study_fall2021_intror_creditcard.txt", header=TRUE, sep=";")
df <- filter(df, selfemp == "yes")
# Convert amount of months applicant living at his/her current address to days.
today <- as.Date("2000-01-01")
df <- mutate(df, days = as.numeric(today - (today %m-% months(df$months))))
# Add column with income per family member.
# Due to the lack of information about a person's family,
# we assume that dependents are family members without the applicant.
df <- mutate(df, incomePerFamilyMember = income / (dependents + 1))
df
df$incomeLevel
df
df$incomeLevel <- NA
df
case_when(
is.na(df[df$income < 2.5]$incomeLevel) ~ "low"
is.na(df[df$income >= 2.5 & df$income <= 8]$incomeLevel) ~ "average"
is.na(df[df$income >8 2.5]$incomeLevel) ~ "high"
)
df$income < 2.5
df[df$income < 2.5]$incomeLevel
df$incomeLevel <- NA
case_when(
is.na(df[df$income < 2.5]$incomeLevel) ~ "low"
is.na(df[df$income >= 2.5 & df$income <= 8]$incomeLevel) ~ "average"
is.na(df[df$income >8 2.5]$incomeLevel) ~ "high"
)
df$income < 2.5
df[df$income < 2.5]
case_when(
is.na(df[df$income < 2.5, ]$incomeLevel) ~ "low"
is.na(df[df$income >= 2.5 & df$income <= 8, ]$incomeLevel) ~ "average"
is.na(df[df$income >8 2.5, ]$incomeLevel) ~ "high"
)
df[df$income < 2.5, ]$incomeLevel
is.na(df[df$income < 2.5, ]$incomeLevel)
case_when(
is.na(df[df$income < 2.5, ]$incomeLevel) ~ "low",
is.na(df[df$income >= 2.5 & df$income <= 8, ]$incomeLevel) ~ "average",
is.na(df[df$income >8 2.5, ]$incomeLevel) ~ "high"
)
case_when(
is.na(df[df$income < 2.5, ]$incomeLevel) ~ "low",
is.na(df[df$income >= 2.5 & df$income <= 8, ]$incomeLevel) ~ "average",
is.na(df[df$income >8, ]$incomeLevel) ~ "high"
)
df$incomeLevel <- NA
case_when(
is.na(df[df$income < 2.5, ]$incomeLevel) ~ "low",
is.na(df[df$income >= 2.5 & df$income <= 8, ]$incomeLevel) ~ "average",
is.na(df[df$income >8, ]$incomeLevel) ~ "high"
)
df$income < 2.5
df$income < 2.5
df[df$income < 2.5, ]
df[df$income < 2.5, ]$incomeLevel
case_when(
df[df$income < 2.5, ]$incomeLevel ~ "low",
df[df$income >= 2.5 & df$income <= 8, ]$incomeLevel ~ "average",
df[df$income >8, ]$incomeLevel ~ "high"
)
df$income < 2.5,
df$income < 2.5
df$income >= 2.5 & df$income <= 8
df$income >8
df[df$income < 2.5, ]$incomeLevel
df[df$income >= 2.5 & df$income <= 8, ]$incomeLevel
df$incomeLevel <- NA
case_when(
df$income < 2.5 & is.na(df$incomeLevel) ~ "low",
df$income >= 2.5 & df$income <= 8 & is.na(df$incomeLevel) ~ "average",
df$income >8 & is.na(df$incomeLevel) ~ "high"
)
case_when(
df$income < 2.5 ~ "low",
df$income >= 2.5 ~ "average",
df$income >8 ~ "high"
)
case_when(
df$income < 2.5 ~ "low",
df$income >= 2.5 ~ "average",
df$income >8 ~ "high"
)
df$incomeLevel <- case_when(
df$income < 2.5 ~ "low",
df$income >= 2.5 ~ "average",
df$income >8 ~ "high"
)
df
filter(df, owner == "no")
filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents))
filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents))[1,]
class(filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents)))
class(filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents)))[1,1]
# 2.
# Print some information about dataset.
file.create("output.txt", showWarnings = TRUE)
output <-file("output.txt")
write("Average amount of dependents for people don't own their home:", file="output.txt")
write(filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents)),
file="output.txt", append=TRUE)
write.table(filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents)),
file="output.txt", append=TRUE)
filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents))[1]
filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents))
dependents(filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents)))
dimension(filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents)))
dim(filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents)))
dim(filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents)))[1,1]
dim(filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents)))[,]
dn <- as.data.frame(1)
dn
dn[1]
dn[1,1]
filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents))
filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents))[1, meanDependents]
filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents))[meanDependents]
filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents))[[meanDependents]]
filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents))[1]
filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents))[[1]]
filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents))
class(filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents)))
filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents))&meanDependents
filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents))
dn <- filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents))
dn
dn$meanDependents
write(filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents))$meanDependents,
file="output.txt", append=TRUE)
filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents))
filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents))$meanDependents
(filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents))))$meanDependents
(filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents)))$meanDependents
write((filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents)))$meanDependents,
file="output.txt", append=TRUE)
# 2.
# Print some information about dataset.
file.create("output.txt", showWarnings = TRUE)
output <-file("output.txt")
write("Average amount of dependents for people don't own their home:", file="output.txt")
write((filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents)))$meanDependents,
file="output.txt", append=TRUE)
dftmp <- filter(df, card == "no")
dftmp <- dftmp[order(dftmp$age),]
dftmp
dftmp <- arrange(dftmp, age)
dftmp
dftmp <- filter(df, card == "no")
dftmp
dftmp <- arrange(dftmp, age)
dftmp
library("lubridate")
library("dplyr")
# 1.
# Create a dateframe of self-employed.
df <- read.table("study_fall2021_intror_creditcard.txt", header=TRUE, sep=";")
df <- filter(df, selfemp == "yes")
# Convert amount of months applicant living at his/her current address to days.
today <- as.Date("2000-01-01")
df <- mutate(df, days = as.numeric(today - (today %m-% months(df$months))))
# Add column with income per family member.
# Due to the lack of information about a person's family,
# we assume that dependents are family members without the applicant.
df <- mutate(df, incomePerFamilyMember = income / (dependents + 1))
# Define criterion of income level, and split data according to levels of this criterion.
df$incomeLevel <- case_when(
df$income < 2.5 ~ "low",
df$income >= 2.5 ~ "average",
df$income >8 ~ "high"
)
# 2.
# Print some information about dataset.
file.create("output.txt", showWarnings = TRUE)
output <-file("output.txt")
write("Average amount of dependents for people don't own their home:", file="output.txt")
write((filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents)))$meanDependents,
file="output.txt", append=TRUE)
write("Average age in each income groups:", file="output.txt", append=TRUE)
write.table(df %>% group_by(incomeLevel) %>% summarise(averageAge = mean(age)),
file = "output.txt", sep = ";", append=TRUE, row.names=FALSE, col.names=FALSE)
write("Top 5 youngest people, whose application was declined: ",
file = "output.txt", append=TRUE)
dftmp <- filter(df, card == "no")
dftmp <- arrange(dftmp, age)
write.table(dftmp[1:5,], file = "output.txt", sep = ";", append=TRUE)
write("Top 5 eldest people, whose application was declined: ", file = "output.txt", append=TRUE)
write.table(tail(dftmp, 5), file = "output.txt", sep = ";", append=TRUE)
write("Average number of major CCs held for people with top 10 income: ",
file = "output.txt", append=TRUE)
write(sort(df$income) %>% tail(10) %>% mean(),
file = "output.txt", append=TRUE)
close(output)
library("lubridate")
library("dplyr")
# 1.
# Create a dateframe of self-employed.
df <- read.table("study_fall2021_intror_creditcard.txt", header=TRUE, sep=";")
df <- filter(df, selfemp == "yes")
# Convert amount of months applicant living at his/her current address to days.
today <- as.Date("2000-01-01")
df <- mutate(df, days = as.numeric(today - (today %m-% months(df$months))))
# Add column with income per family member.
# Due to the lack of information about a person's family,
# we assume that dependents are family members without the applicant.
df <- mutate(df, incomePerFamilyMember = income / (dependents + 1))
# Define criterion of income level, and split data according to levels of this criterion.
df$incomeLevel <- case_when(
df$income < 2.5 ~ "low",
df$income >= 2.5 & df$income <= 8 ~ "average",
df$income >8 ~ "high"
)
# 2.
# Print some information about dataset.
file.create("output.txt", showWarnings = TRUE)
output <-file("output.txt")
write("Average amount of dependents for people don't own their home:", file="output.txt")
write((filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents)))$meanDependents,
file="output.txt", append=TRUE)
write("Average age in each income groups:", file="output.txt", append=TRUE)
write.table(df %>% group_by(incomeLevel) %>% summarise(averageAge = mean(age)),
file = "output.txt", sep = ";", append=TRUE, row.names=FALSE, col.names=FALSE)
write("Top 5 youngest people, whose application was declined: ",
file = "output.txt", append=TRUE)
dftmp <- filter(df, card == "no")
dftmp <- arrange(dftmp, age)
write.table(dftmp[1:5,], file = "output.txt", sep = ";", append=TRUE)
write("Top 5 eldest people, whose application was declined: ", file = "output.txt", append=TRUE)
write.table(tail(dftmp, 5), file = "output.txt", sep = ";", append=TRUE)
write("Average number of major CCs held for people with top 10 income: ",
file = "output.txt", append=TRUE)
write(sort(df$income) %>% tail(10) %>% mean(),
file = "output.txt", append=TRUE)
close(output)
close(output)
library("lubridate")
library("dplyr")
# 1.
# Create a dateframe of self-employed.
df <- read.table("study_fall2021_intror_creditcard.txt", header=TRUE, sep=";")
df <- filter(df, selfemp == "yes")
# Convert amount of months applicant living at his/her current address to days.
today <- as.Date("2000-01-01")
df <- mutate(df, days = as.numeric(today - (today %m-% months(df$months))))
# Add column with income per family member.
# Due to the lack of information about a person's family,
# we assume that dependents are family members without the applicant.
df <- mutate(df, incomePerFamilyMember = income / (dependents + 1))
# Define criterion of income level, and split data according to levels of this criterion.
df$incomeLevel <- case_when(
df$income < 2.5 ~ "low",
df$income >= 2.5 & df$income <= 8 ~ "average",
df$income >8 ~ "high"
)
# 2.
# Print some information about dataset.
file.create("output.txt", showWarnings = TRUE)
output <-file("output.txt")
write("Average amount of dependents for people don't own their home:", file="output.txt")
write((filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents)))$meanDependents,
file="output.txt", append=TRUE)
write("Average age in each income groups:", file="output.txt", append=TRUE)
write.table(df %>% group_by(incomeLevel) %>% summarise(averageAge = mean(age)),
file = "output.txt", sep = ";", append=TRUE, row.names=FALSE, col.names=FALSE)
write("Top 5 youngest people, whose application was declined: ",
file = "output.txt", append=TRUE)
dftmp <- filter(df, card == "no")
dftmp <- arrange(dftmp, age)
write.table(dftmp[1:5,], file = "output.txt", sep = ";", append=TRUE)
write("Top 5 eldest people, whose application was declined: ", file = "output.txt", append=TRUE)
write.table(tail(dftmp, 5), file = "output.txt", sep = ";", append=TRUE)
write("Average number of major CCs held for people with top 10 income: ",
file = "output.txt", append=TRUE)
write(sort(df$income) %>% tail(10) %>% mean(),
file = "output.txt", append=TRUE)
close(output)
(arrange(dftmp, income) %>% tail(10))$majorcards %>% mean()
library("lubridate")
library("dplyr")
# 1.
# Create a dateframe of self-employed.
df <- read.table("study_fall2021_intror_creditcard.txt", header=TRUE, sep=";")
df <- filter(df, selfemp == "yes")
# Convert amount of months applicant living at his/her current address to days.
today <- as.Date("2000-01-01")
df <- mutate(df, days = as.numeric(today - (today %m-% months(df$months))))
# Add column with income per family member.
# Due to the lack of information about a person's family,
# we assume that dependents are family members without the applicant.
df <- mutate(df, incomePerFamilyMember = income / (dependents + 1))
# Define criterion of income level, and split data according to levels of this criterion.
df$incomeLevel <- case_when(
df$income < 2.5 ~ "low",
df$income >= 2.5 & df$income <= 8 ~ "average",
df$income >8 ~ "high"
)
# 2.
# Print some information about dataset.
file.create("output.txt", showWarnings = TRUE)
output <-file("output.txt")
write("Average amount of dependents for people don't own their home:", file="output.txt")
write((filter(df, owner == "no") %>% summarise(meanDependents = mean(dependents)))$meanDependents,
file="output.txt", append=TRUE)
write("Average age in each income groups:", file="output.txt", append=TRUE)
write.table(df %>% group_by(incomeLevel) %>% summarise(averageAge = mean(age)),
file = "output.txt", sep = ";", append=TRUE, row.names=FALSE, col.names=FALSE)
write("Top 5 youngest people, whose application was declined: ",
file = "output.txt", append=TRUE)
dftmp <- filter(df, card == "no")
dftmp <- arrange(dftmp, age)
write.table(dftmp[1:5,], file = "output.txt", sep = ";", append=TRUE)
write("Top 5 eldest people, whose application was declined: ", file = "output.txt", append=TRUE)
write.table(tail(dftmp, 5), file = "output.txt", sep = ";", append=TRUE)
write("Average number of major CCs held for people with top 10 income: ",
file = "output.txt", append=TRUE)
write((arrange(dftmp, income) %>% tail(10))$majorcards %>% mean(),
file = "output.txt", append=TRUE)
close(output)
